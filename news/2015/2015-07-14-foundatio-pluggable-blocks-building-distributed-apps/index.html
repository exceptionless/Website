<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <title>Introducing Foundatio - Pluggable Foundation Blocks for Building Distributed Apps - Exceptionless</title>

    <meta name="description" content="Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.">
    <meta name="robots" content="index,follow">
    <meta name="author" content="[object Object]">

    <link rel="canonical" href="NaN">

    <!-- opengraph -->
    <meta property="og:title" content="Introducing Foundatio - Pluggable Foundation Blocks for Building Distributed Apps - Exceptionless">
    <meta property="og:type" content="article">
    <meta property="og:url" content="NaN">
    <meta property="og:description" content="Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.">
    <meta property="og:image" content="undefined/undefined/undefined">
    <!-- end opengraph -->

    <!-- twitter -->
    <meta name="twitter:card" content="summary"><meta name="twitter:site" content="@Exceptionless">
    <meta name="twitter:url" content="NaN">
    <meta name="twitter:title" content="Introducing Foundatio - Pluggable Foundation Blocks for Building Distributed Apps - Exceptionless">
    <meta name="twitter:description" content="Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.">
    <meta name="twitter:image" content="undefined/undefined/undefined">
    <!-- end twitter -->

    <!-- google tag manager -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-433340-8"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-433340-8');
    </script>
    <!-- end google tag manager -->

    <link rel="alternate" href="/website/feed.xml" type="application/atom+xml" title="Exceptionless">
    <link rel="alternate" href="/website/feed.json" type="application/json" title="Exceptionless">
    <link rel="shortcut icon" href="/website/favicon.ico">

    <link rel="stylesheet" href="/website/assets/cyclone-slider-pro/templates/standard/style.css">
    <link rel="stylesheet" href="/website/assets/css/theme.css">
    <link rel="stylesheet" href="/website/assets/css/responsive.css">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,300,400,600" rel="stylesheet">

    <link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link href="/website/assets/css/prism.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>

    <link rel="stylesheet" href="/website/assets/css/custom.css">
  </head>
  <body class="home page custom-background top-navbar">
    <header id="banner" class="topnavbar navbar navbar-fixed-top" role="banner">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="brand" href="/website/">
                    <img id="site-logo" src="/website/assets/img/exceptionless-logo1.png" alt="Exceptionless - .NET Exception Reporting">
                </a>
                <nav id="nav-main" class="nav-main nav-collapse collapse" role="navigation">
                    <ul id="menu-primary-navigation" class="nav pull-right"><li class="menu-tour"><a href="/website/tour/">Tour</a></li>
                        <li class="menu-why"><a href="/website/why/">Why?</a></li>
                        <li class="menu-pricing"><a href="/website/pricing/">Pricing</a></li>
                        <li class="menu-news"><a href="/website/news/">News</a></li>
                        <li class="menu-help"><a href="/website/docs/">Docs</a></li>
                        <li class="menu-log-in"><a href="https://be.exceptionless.io">Log In</a></li>
                        <li class="menu-sign-up"><a href="https://be.exceptionless.io/signup?domain=www.codesmithtools.com&amp;type=organic">Sign Up</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div id="megaDrop" class="container-fluid top-megamenu"><div class="container"><div class="row"></div></div></div>
    </header>

    
      
<div class="page-header margin-top">
  <h1>News</h1>
</div>

<div id="wrap" class="container" role="document">
  <div id="content" class="row-fluid">
    <div id="main" class="span12" role="main">
      
        <article class="post type-post status-publish format-standard hentry category-uncategorized tag-net tag-updates">
          <header>
            <h1 class="entry-title">Introducing Foundatio - Pluggable Foundation Blocks for Building Distributed Apps</h1>
          </header>
          <div class="entry-content">
            <p><img src="/website/assets/img/news/foundatio-article-featured-image.png" alt="Exceptionless Foundatio App Building Blocks">In the process of developing Exceptionless, we realized there was a lack of good, simple, open source solutions for caching, queues, locks, messaging, jobs, file storage, and metrics when building scaleable applications.</p>
<p>We tried an open source Redis cache client for caching, but it went commercial (expensive) and there wasn't any in-memory implementations. For the message bus, we looked at <a href="http://particular.net/nservicebus" target="_blank">NServiceBus</a> (good product, high cost, not open source friendly) and <a href="http://masstransit-project.com/" target="_blank">MassTransit</a> (local setup a pain, Azure support lacking), but were left disappointed. For storage, we simply could not find a solution that was decoupled and supported in memory, file storage, or Azure Blog Storage.</p>
<p>So, naturally, we built our own!</p>
<p>Meet&nbsp;<a href="https://github.com/FoundatioFx/Foundatio" target="_blank">Foundatio</a>&nbsp;- your key to painless, scalable development and testing for your app! Let's take a look at some examples, below.</p>
<div class="signup center">
  <a class="btn btn-large btn-primary" href="https://github.com/FoundatioFx/Foundatio" target="_blank">Try Foundatio Today</a>
</div>
<!--more-->
<h2>Using Foundatio</h2>
<p>To start using Foundatio for your project, simply <a href="https://www.nuget.org/packages?q=Foundatio" target="_blank">get the appropriate package from NuGet</a>.</p>
<p>Below are small examples of what is possible with Foundatio caching, queues, locks, messaging, jobs, file storage, and metrics. We hope you find these explanations and samples useful, but please let us know if you have any questions or comments.</p>
<h3>Caching</h3>
<p>Foundatio provides four cache implementations, all derived from the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Caching/ICacheClient.cs" target="_blank"><code>ICacheClient</code> interface</a>, that save you expensive operations when creating or getting data by allowing you to store and access the data super fast.</p>
<p>These implementations include <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Caching/InMemoryCacheClient.cs" target="_blank">InMemoryCacheClient</a>, <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Caching/HybridCacheClient.cs" target="_blank">HybridCacheClient</a>, <a href="https://github.com/FoundatioFx/Foundatio.Redis/blob/master/src/Foundatio.Redis/Cache/RedisCacheClient.cs" target="_blank">RedisCacheClient</a>, and <a href="https://github.com/FoundatioFx/Foundatio.Redis/blob/master/src/Foundatio.Redis/Cache/RedisHybridCacheClient.cs" target="_blank">RedisHybridCacheClient</a>. Learn more about each in the <a href="https://github.com/FoundatioFx/Foundatio#caching" target="_blank">Foundatio Readme Caching section</a>.</p>
<p>For Exceptionless,&nbsp;we&nbsp;use RedisHybridCacheClient to cache users, organizations, and projects, which has a huge performance boost since we don't have to serialize the item if it's in local memory cache.</p>
<h4>Foundatio Caching Sample</h4>
<pre><code class="language-cs hljs language-csharp"><span class="hljs-keyword">using</span> Foundatio.Caching;

ICacheClient cache = <span class="hljs-keyword">new</span> InMemoryCacheClient();
cache.Set(<span class="hljs-string">"test"</span>, <span class="hljs-number">1</span>);
<span class="hljs-keyword">var</span> <span class="hljs-keyword">value</span> = cache.Get&lt;<span class="hljs-built_in">int</span>&gt;(<span class="hljs-string">"test"</span>);
</code></pre>
<h3>Queues</h3>
<p>Foundatio includes three queue implementations, each derived from the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Queues/IQueue.cs" target="_blank"><code>IQueue</code> interface</a>, for First In, First Out (FIFO) message delivery. These include <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Queues/InMemoryQueue.cs" target="_blank">InMemoryQueue</a>, <a href="https://github.com/FoundatioFx/Foundatio.Redis/blob/master/src/Foundatio.Redis/Queues/RedisQueue.cs" target="_blank">RedisQueue</a>, and <a href="https://github.com/FoundatioFx/Foundatio.AzureServiceBus/blob/master/src/Foundatio.AzureServiceBus/Queues/AzureServiceBusQueue.cs" target="_blank">ServiceBusQueue</a>. Read more in the <a href="https://github.com/FoundatioFx/Foundatio#queues" target="_blank">queues section of the readme</a>.</p>
<p><a href="https://github.com/exceptionless/Exceptionless/blob/master/src/Exceptionless.Web/Controllers/EventController.cs#L1142-L1151" target="_blank">We use queues</a>, along with Foundatio Storage (below) to queue events for Exceptionless. Using both allows us to keep payloads small and limit system load.</p>
<h4>Foundatio Queue&nbsp;Example</h4>
<pre><code class="language-cs hljs language-csharp"><span class="hljs-keyword">using</span> Foundatio.Queues;

IQueue queue = <span class="hljs-keyword">new</span> InMemoryQueue();

queue.Enqueue(<span class="hljs-keyword">new</span> SimpleWorkItem {
Data = <span class="hljs-string">"Hello"</span>
});

<span class="hljs-keyword">var</span> workItem = queue.Dequeue(TimeSpan.Zero);
</code></pre>
<h3>Locks</h3>
<p>To ensure any resource is only accessed by one consumer at any one time, use one of the two Foundatio Locks implementations, each derived from the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Lock/ILockProvider.cs" target="_blank"><code>ILockProvider</code> interface</a>. These implementations include <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Lock/CacheLockProvider.cs" target="_blank">CacheLockProvider</a> and <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Lock/ThrottlingLockProvider.cs" target="_blank">ThrottlingLockProvider</a>. These providers take an <code>ICacheClient</code>, ensuring code locks across machines. <a href="https://github.com/FoundatioFx/Foundatio#locks" target="_blank">Read more on the repo</a>.</p>
<p>We use locks&nbsp;to only run single instances of jobs (below), and more.</p>
<h4>Foundatio Locks Sample</h4>
<pre><code class="language-cs hljs language-csharp"><span class="hljs-keyword">using</span> Foundatio.Lock;

ILockProvider locker = <span class="hljs-keyword">new</span> CacheLockProvider(<span class="hljs-keyword">new</span> InMemoryCacheClient());

<span class="hljs-keyword">using</span> (locker) {
  locker.ReleaseLock(<span class="hljs-string">"test"</span>);

  <span class="hljs-keyword">using</span> (locker.AcquireLock(<span class="hljs-string">"test"</span>, acquireTimeout: TimeSpan.FromSeconds(<span class="hljs-number">1</span>))) {
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<h3>Messaging</h3>
<p>Derived from the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Messaging/IMessageBus.cs" target="_blank"><code>IMessageBus</code> interface</a>, our three message bus implementations let you publish and subscribe to messages&nbsp;within your application. Use the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Messaging/InMemoryMessageBus.cs" target="_blank">InMemoryMessageBus</a>, <a href="https://github.com/FoundatioFx/Foundatio.Redis/blob/master/src/Foundatio.Redis/Messaging/RedisMessageBus.cs" target="_blank">RedisMessageBus</a>,or <a href="https://github.com/FoundatioFx/Foundatio.AzureServiceBus/blob/master/src/Foundatio.AzureServiceBus/Messaging/AzureServiceBusMessageBus.cs" target="_blank">ServiceBusMessageBus</a> implementations based on your needs. <a href="https://github.com/FoundatioFx/Foundatio#messaging" target="_blank">Read more about each implementation on GitHub</a>.</p>
<p><a href="https://github.com/exceptionless/Exceptionless/blob/master/src/Exceptionless.Web/Hubs/MessageBusBroker.cs" target="_blank">Exceptionless utilizes the message bus</a> extensively to pass messages such as events being created, stacks being changed, etc, throughout the system.</p>
<h4>Foundatio Messaging Example</h4>
<pre><code class="language-cs hljs language-csharp"><span class="hljs-keyword">using</span> Foundatio.Messaging;

IMessageBus messageBus = <span class="hljs-keyword">new</span> InMemoryMessageBus();

<span class="hljs-keyword">using</span> (messageBus) {
  messageBus.Subscribe&lt;SimpleMessageA&gt;(msg =&gt; {
    <span class="hljs-comment">// Got message</span>
  });

  messageBus.Publish(<span class="hljs-keyword">new</span> SimpleMessageA {
      Data = <span class="hljs-string">"Hello"</span>
  });
}
</code></pre>
<h3>Jobs</h3>
<p>Run jobs by calling <code>Run()</code> or passing it to the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Jobs/JobRunner.cs" target="_blank"><code>JobRunner</code> class</a>, which allows you to easily run jobs as Azure Web Jobs. All jobs are required to derive from the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Jobs/JobBase.cs" target="_blank"><code>JobBase</code> class</a>.</p>
<p>Around here, <a href="https://github.com/exceptionless/Exceptionless/tree/master/src/Exceptionless.Core/Jobs" target="_blank">we use the jobs feature</a> for processing events, sending mail messages, and more. Some jobs, such as our <a href="https://github.com/exceptionless/Exceptionless/blob/master/src/Exceptionless.Core/Jobs/DailySummaryJob.cs#L51-L53" target="_blank">DailySummaryJob</a>, which we only want to run once, also use locks (above) to only run one instance.</p>
<h4>Foundatio Jobs Sample</h4>
<pre><code class="language-cs hljs language-csharp"><span class="hljs-keyword">using</span> Foundatio.Jobs;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HelloWorldJob</span> : <span class="hljs-title">JobBase</span> {
  <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> RunCount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

  <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> Task&lt;JobResult&gt; <span class="hljs-title">RunInternalAsync</span>(<span class="hljs-params">CancellationToken token</span>)</span> {
    RunCount++;

    <span class="hljs-keyword">return</span> Task.FromResult(JobResult.Success);
  }
}

<span class="hljs-keyword">var</span> job = <span class="hljs-keyword">new</span> HelloWorldJob();
job.Run(); <span class="hljs-comment">// job.RunCount = 1;</span>
job.RunContinuous(iterationLimit: <span class="hljs-number">2</span>); <span class="hljs-comment">// job.RunCount = 3;</span>
job.RunContinuous(token: <span class="hljs-keyword">new</span> CancellationTokenSource(TimeSpan.FromMilliseconds(<span class="hljs-number">10</span>)).Token); <span class="hljs-comment">// job.RunCount &gt; 10;</span>
</code></pre>
<p><code>Job.exe -t "MyLib.HelloWorldJob,MyLib"</code></p>
<h3>File Storage</h3>
<p>Derived from the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Storage/IFileStorage.cs" target="_blank"><code>IFileStorage</code> interface</a>, we offer three file storage implementations, including <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Storage/InMemoryFileStorage.cs" target="_blank">InMemoryFileStorage</a>, <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Storage/FolderFileStorage.cs" target="_blank">FolderFileStorage</a>, and <a href="https://github.com/FoundatioFx/Foundatio.AzureStorage/blob/master/src/Foundatio.AzureStorage/Storage/AzureFileStorage.cs" target="_blank">AzureFileStorage</a>. Read more on each in the <a href="https://github.com/FoundatioFx/Foundatio#file-storage" target="_blank">ReadMe</a>. <em>Using all <code>IFileStorage</code> implementations as singletons is recommended.</em></p>
<p>File storage is used by Exceptionless in conjunction with queues&nbsp;(above), among other things.</p>
<h4>Foundatio File Storage Example</h4>
<pre><code class="language-cs hljs language-csharp"><span class="hljs-keyword">using</span> Foundatio.Storage;

IFileStorage storage = <span class="hljs-keyword">new</span> InMemoryFileStorage();
storage.SaveFile(<span class="hljs-string">"test.txt"</span>, <span class="hljs-string">"test"</span>);
<span class="hljs-built_in">string</span> content = storage.GetFileContents(<span class="hljs-string">"test.txt"</span>)
</code></pre>
<h3>Metrics</h3>
<p>Our three&nbsp;metric implementations derive from the <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Metrics/IMetricsClient.cs" target="_blank"><code>IMetricsClient</code> interface</a> and include <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Metrics/InMemoryMetricsClient.cs" target="_blank">InMemoryMetricsClient</a>, <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio/Metrics/StatsDMetricsClient.cs" target="_blank">StatsDMetricsClient</a>, and <a href="https://github.com/FoundatioFx/Foundatio/blob/master/src/Foundatio.MetricsNET/MetricsNETClient.cs" target="_blank">MetricsNETClient</a>. <a href="https://github.com/FoundatioFx/Foundatio#metrics" target="_blank">Get the details on the repo</a>. <em>Note that these implementations should be used as singletons.</em></p>
<p>Metrics are used throughout the Exceptionless system to provide insight into how the system is working and get external alerts if events are not processing or report how much load is on the current system.</p>
<h4>Foundatio Metrics Sample</h4>
<pre><code class="language-cs hljs language-csharp">metrics.Counter(<span class="hljs-string">"c1"</span>);
metrics.Gauge(<span class="hljs-string">"g1"</span>, <span class="hljs-number">2.534</span>);
metrics.Timer(<span class="hljs-string">"t1"</span>, <span class="hljs-number">50788</span>);
</code></pre>
<h2>Development</h2>
<p>If you would like to contribute to Foundatio, clone the repo&nbsp;and open the Foundatio.sln Visual Studio solution file to get started. Let us know if you have any questions or need any assistance.</p>
<h2>The Future of Foundatio</h2>
<p>As with any development project, Foundatio is a work in progress and we will continue developing it, however it is extremely stable and used in production by various companies, including Exceptionless (obviously). The next major steps are <strong>full Async support</strong> (some implementations already have it), and <strong>vnext support</strong>.</p>
<p>Naturally, we want to know what you think and what we should work on next, so <a href="https://github.com/FoundatioFx/Foundatio/issues">please let us know</a>!</p>

          </div>
        </article>
            
    </div>
  </div>
</div>

    

    <div id="footer-wrapper">
        <footer id="content-info" class="container" role="contentinfo">
            <div class="row-fluid">
                <div class="span4"><section id="text-2" class="widget-1 widget-first widget widget_text"><div class="widget-inner">			<div class="textwidget"><h3><span class="slash">//</span> Quick Links</h3>
                    <ul class="footer-links clearfix">
                        <li><a href="/website/">Home</a></li>
                        <li><a href="/website/tour/">Tour</a></li>
                        <li><a href="/website/why/">Why?</a></li>
                        <li><a href="/website/pricing/">Pricing</a></li>
                        <li><a href="/website/news/">News</a></li>
                        <li><a href="/website/docs/">Docs</a></li>
                    </ul>
                    <ul class="footer-links clearfix">
                        <li><a href="javascript:Intercom('showNewMessage');">Contact</a></li>
                        <li><a href="https://github.com/exceptionless/Exceptionless" target="_blank" rel="noopener noreferrer">GitHub</a></li>
                        <li><a href="/website/about/">About Us</a></li>
                        <li><a href="/website/terms/">Terms of Use</a></li>
                        <li><a href="/website/privacy/">Privacy Policy</a></li>
                        <li>&nbsp;</li>
                    </ul></div>
                </div></section></div>
                <div class="span3"></div>
                <div class="span4"><section id="text-3" class="widget-1 widget-first widget widget_text"><div class="widget-inner">			<div class="textwidget"><h3><span class="slash">//</span> Stay In Touch</h3>
                    <p>There are real people behind Exceptionless, so if you have a question or suggestion (no matter how small) please get in touch with us:</p>

                    <ul class="social-icons-container">
                        <li>
                            <a href="https://twitter.com/exceptionless" target="_blank" class="social-icon social-icon-twitter" rel="noopener noreferrer">Twitter</a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/exceptionless" target="_blank" class="social-icon social-icon-facebook" rel="noopener noreferrer">Facebook</a>
                        </li>
                        <li>
                            <a href="https://github.com/exceptionless/Exceptionless" target="_blank" class="social-icon social-icon-github" rel="noopener noreferrer">GitHub</a>
                        </li>
                    </ul></div>
                </div></section></div>
            </div>
        </footer>
        <div class="copyrightContainer">
            <p class="copyright">Â© 2020 Exceptionless</p>
        </div>
    </div>

    <script src="/website/assets/js/main.js"></script>
    
    <!-- intercom -->
<script>
window.intercomSettings = {
    app_id: "6c0d76e0bec950052459f5cb4b727a949aeabbe1"
};
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/6c0d76e0bec950052459f5cb4b727a949aeabbe1';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>
<!-- end intercom -->

  

</body></html>