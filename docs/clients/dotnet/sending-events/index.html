<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <title>Sending Events - Exceptionless</title>

    <meta name="description" content="Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.">
    <meta name="robots" content="index,follow">
    <meta name="author" content="[object Object]">

    <link rel="canonical" href="NaN">

    <!-- opengraph -->
    <meta property="og:title" content="Sending Events - Exceptionless">
    <meta property="og:type" content="article">
    <meta property="og:url" content="NaN">
    <meta property="og:description" content="Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.">
    <meta property="og:image" content="undefined/undefined/undefined">
    <!-- end opengraph -->

    <!-- twitter -->
    <meta name="twitter:card" content="summary"><meta name="twitter:site" content="@Exceptionless">
    <meta name="twitter:url" content="NaN">
    <meta name="twitter:title" content="Sending Events - Exceptionless">
    <meta name="twitter:description" content="Real-time exception reporting for ASP.NET, Web API, WebForms, WPF, Console, and MVC applications. Includes event organization, notifications, and more.">
    <meta name="twitter:image" content="undefined/undefined/undefined">
    <!-- end twitter -->

    <!-- google tag manager -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-433340-8"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-433340-8');
    </script>
    <!-- end google tag manager -->

    <link rel="alternate" href="/website/feed.xml" type="application/atom+xml" title="Exceptionless">
    <link rel="alternate" href="/website/feed.json" type="application/json" title="Exceptionless">
    <link rel="shortcut icon" href="/website/favicon.ico">

    <link rel="stylesheet" href="/website/assets/cyclone-slider-pro/templates/standard/style.css">
    <link rel="stylesheet" href="/website/assets/css/theme.css">
    <link rel="stylesheet" href="/website/assets/css/responsive.css">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,300,400,600" rel="stylesheet">

    <link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link href="/website/assets/css/prism.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>

    <link rel="stylesheet" href="/website/assets/css/custom.css">
  </head>
  <body class="home page custom-background top-navbar">
    <header id="banner" class="topnavbar navbar navbar-fixed-top" role="banner">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="brand" href="/website/">
                    <img id="site-logo" src="/website/assets/img/exceptionless-logo1.png" alt="Exceptionless - .NET Exception Reporting">
                </a>
                <nav id="nav-main" class="nav-main nav-collapse collapse" role="navigation">
                    <ul id="menu-primary-navigation" class="nav pull-right"><li class="menu-tour"><a href="/website/tour/">Tour</a></li>
                        <li class="menu-why"><a href="/website/why/">Why?</a></li>
                        <li class="menu-pricing"><a href="/website/pricing/">Pricing</a></li>
                        <li class="menu-news"><a href="/website/news/">News</a></li>
                        <li class="menu-help"><a href="/website/docs/">Docs</a></li>
                        <li class="menu-log-in"><a href="https://be.exceptionless.io">Log In</a></li>
                        <li class="menu-sign-up"><a href="https://be.exceptionless.io/signup?domain=www.codesmithtools.com&amp;type=organic">Sign Up</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <div id="megaDrop" class="container-fluid top-megamenu"><div class="container"><div class="row"></div></div></div>
    </header>

    
      
<div class="page-header margin-top">
  <h1>Documentation</h1>
</div>

<div id="wrap" class="container" role="document">  
  <div id="responsive-menu"><button class="btn btn-primary" onclick="handleMenu()">Table of Contents</button></div>
  <div id="content" class="row-fluid">
    <div class="toc well span3 visible-toc">
      <div class="input-append">
        <input class="span9" id="search-input" type="text" placeholder="Search docs...">
        <button class="btn" type="button" onclick="handleSearch()">Go!</button>
      </div>
      

    </div>
    <div class="well span9 docs">
      <h1>Sending Events</h1>
      <p>Once <a href="/website/docs/clients/dotnet/configuration/">configured</a>, Exceptionless will automatically send any unhandled exceptions that happen in your application. The sections below will show you how to send us different event types as well as customize the data that is sent in.</p>
<p>You may also want to send us <strong>log messages</strong>, <strong>feature usages</strong> or other kinds of events. You can do this very easily with our fluent api. Find examples, below.</p>
<ul>
<li><a href="#log-messages-feature-usages-404-and-custom-event-types">Log Messages, Feature Usages, 404, and Custom Event Types</a></li>
<li><a href="#manually-sending-errors">Manually Sending Errors</a></li>
<li><a href="#sending-additional-information">Sending Additional Information</a></li>
<li><a href="#modifying-unhandled-exception-reports">Modifying Unhandled Exception Reports</a></li>
<li><a href="#using-nlog-or-log4net-targets">Using NLog or Log4net Targets</a></li>
</ul>
<hr>
<h2>Log Messages, Feature Usages, 404, and Custom Event Types</h2>
<pre><code class="language-csharp hljs"><span class="hljs-comment">// Import the exceptionless namespace.</span>
<span class="hljs-keyword">using</span> Exceptionless;

<span class="hljs-comment">// Submit logs</span>
ExceptionlessClient.Default.SubmitLog(<span class="hljs-string">"Logging made easy"</span>);

<span class="hljs-comment">// You can also specify the log source and log level.</span>
<span class="hljs-comment">// We recommend specifying one of the following log levels: Trace, Debug, Info, Warn, Error</span>
ExceptionlessClient.Default.SubmitLog(<span class="hljs-keyword">typeof</span>(Program).FullName, <span class="hljs-string">"This is so easy"</span>, <span class="hljs-string">"Info"</span>);
ExceptionlessClient.Default.CreateLog(<span class="hljs-keyword">typeof</span>(Program).FullName, <span class="hljs-string">"This is so easy"</span>, <span class="hljs-string">"Info"</span>).AddTags(<span class="hljs-string">"Exceptionless"</span>).Submit();

<span class="hljs-comment">// Submit feature usages</span>
ExceptionlessClient.Default.SubmitFeatureUsage(<span class="hljs-string">"MyFeature"</span>);
ExceptionlessClient.Default.CreateFeatureUsage(<span class="hljs-string">"MyFeature"</span>).AddTags(<span class="hljs-string">"Exceptionless"</span>).Submit();

<span class="hljs-comment">// Submit a 404</span>
ExceptionlessClient.Default.SubmitNotFound(<span class="hljs-string">"/somepage"</span>);
ExceptionlessClient.Default.CreateNotFound(<span class="hljs-string">"/somepage"</span>).AddTags(<span class="hljs-string">"Exceptionless"</span>).Submit();

<span class="hljs-comment">// Submit a custom event type</span>
ExceptionlessClient.Default.SubmitEvent(<span class="hljs-keyword">new</span> Event { Message = <span class="hljs-string">"Low Fuel"</span>, Type = <span class="hljs-string">"racecar"</span>, Source = <span class="hljs-string">"Fuel System"</span> });
</code></pre>
<h2>Manually Sending Errors</h2>
<p>In addition to automatically sending all unhandled exceptions, you may want to manually send exceptions to the service. You can do so by importing the Exceptionless namespace and using code like this:</p>
<pre><code class="language-csharp hljs"><span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ApplicationException(Guid.NewGuid().ToString());
} <span class="hljs-keyword">catch</span> (Exception ex) {
    ex.ToExceptionless().Submit();
}
</code></pre>
<h2>Sending Additional Information</h2>
<p>You can easily include additional information in your error reports using our fluent event builder API.</p>
<pre><code class="language-csharp hljs"><span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ApplicationException(<span class="hljs-string">"Unable to create order from quote."</span>);
} <span class="hljs-keyword">catch</span> (Exception ex) {
    ex.ToExceptionless()
        <span class="hljs-comment">// Set the reference id of the event so we can search for it later (reference:id).</span>
        <span class="hljs-comment">// This will automatically be populated if you call ExceptionlessClient.Default.Configuration.UseReferenceIds();</span>
        .SetReferenceId(Guid.NewGuid().ToString(<span class="hljs-string">"N"</span>))
        <span class="hljs-comment">// Add the order object but exclude the credit number property.</span>
        .AddObject(order, <span class="hljs-string">"Order"</span>, excludedPropertyNames: <span class="hljs-keyword">new</span> [] { <span class="hljs-string">"CreditCardNumber"</span> }, maxDepth: <span class="hljs-number">2</span>)
        <span class="hljs-comment">// Set the quote number.</span>
        .SetProperty(<span class="hljs-string">"Quote"</span>, <span class="hljs-number">123</span>)
        <span class="hljs-comment">// Add an order tag.</span>
        .AddTags(<span class="hljs-string">"Order"</span>)
        <span class="hljs-comment">// Mark critical.</span>
        .MarkAsCritical()
        <span class="hljs-comment">// Set the coordinates of the end user.</span>
        .SetGeo(<span class="hljs-number">43.595089</span>, <span class="hljs-number">-88.444602</span>)
        <span class="hljs-comment">// Set the user id that is in our system and provide a friendly name.</span>
        .SetUserIdentity(user.Id, user.FullName)
        <span class="hljs-comment">// Set the users description of the error.</span>
        .SetUserDescription(user.EmailAddress, <span class="hljs-string">"I tried creating an order from my saved quote."</span>)
        <span class="hljs-comment">// Submit the event.</span>
        .Submit();
}
</code></pre>
<h2>Modifying Unhandled Exception Reports</h2>
<p>You can get notified, add additional information or ignore unhandled exceptions by wiring up to the <code>SubmittingEvent</code> event.</p>
<pre><code class="language-csharp hljs"><span class="hljs-comment">// Wire up to this event in somewhere in your application's startup code.</span>
ExceptionlessClient.Default.SubmittingEvent += OnSubmittingEvent;

<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnSubmittingEvent</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventSubmittingEventArgs e</span>)</span> {
    <span class="hljs-comment">// Only handle unhandled exceptions.</span>
    <span class="hljs-keyword">if</span> (!e.IsUnhandledError)
        <span class="hljs-keyword">return</span>;

    <span class="hljs-comment">// Ignore 404s</span>
    <span class="hljs-keyword">if</span> (e.Event.IsNotFound()) {
        e.Cancel = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// Get the error object.</span>
    <span class="hljs-keyword">var</span> error = e.Event.GetError();
    <span class="hljs-keyword">if</span> (error == <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span>;

    <span class="hljs-comment">// Ignore 401 (Unauthorized) and request validation errors.</span>
    <span class="hljs-keyword">if</span> (error.Code == <span class="hljs-string">"401"</span> || error.Type == <span class="hljs-string">"System.Web.HttpRequestValidationException"</span>) {
        e.Cancel = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// Ignore any exceptions that were not thrown by our code.</span>
    <span class="hljs-keyword">var</span> handledNamespaces = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt; { <span class="hljs-string">"Exceptionless"</span> };
    <span class="hljs-keyword">if</span> (!error.StackTrace.Select(s =&gt; s.DeclaringNamespace).Distinct().Any(ns =&gt; handledNamespaces.Any(ns.Contains))) {
        e.Cancel = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-comment">// Add some additional data to the report.</span>
    e.Event.AddObject(order, <span class="hljs-string">"Order"</span>, excludedPropertyNames: <span class="hljs-keyword">new</span> [] { <span class="hljs-string">"CreditCardNumber"</span> }, maxDepth: <span class="hljs-number">2</span>);
    e.Event.Tags.Add(<span class="hljs-string">"Order"</span>);
    e.Event.MarkAsCritical();
    e.Event.SetUserIdentity(user.EmailAddress);
}
</code></pre>
<h2>Using NLog or Log4net Targets</h2>
<p>Using major logging frameworks like NLog or Log4net gives you more granular control over what's logged.</p>
<p>To use the <a href="https://www.nuget.org/packages/exceptionless.nlog">NLog</a> or <a href="https://www.nuget.org/packages/exceptionless.log4net">Log4net</a> clients, bring down the NuGet package and follow the detailed readme. You can also take a look at our <a href="https://github.com/exceptionless/Exceptionless.Net/tree/master/samples/Exceptionless.SampleConsole">sample app</a>, which uses both frameworks.</p>
<p><strong>Performance Note</strong>
If you are logging thousands of messages a minute, you should use the in-memory event storage (below). This way, the client won't serialize the log events to disk, thus is much faster. This does mean, however, that if the application dies you will lose unsent events in memory. When you use the NLog or Log4net targets and specify the API key as part of the target configuration, we will automatically create a second client instance that uses in-memory storage only for log messages. This way, any logged exceptions or feature usages still use disk storage, while log messages use in-memory storage, allowing maximum performance.</p>
<pre><code class="language-csharp hljs"><span class="hljs-keyword">using</span> Exceptionless;
ExceptionlessClient.Default.Configuration.UseInMemoryStorage();
</code></pre>
<hr>
<p class="text-right"><a href="/website/docs/clients/dotnet/supported-platforms/">Next &gt; Supported Platforms</a></p>
   
    </div>
  </div>
</div>

<script>
    const handleMenu = () => {
        const menu = document.querySelector(".toc");
        menu.classList.toggle("hidden-toc");
        menu.classList.toggle("visible-toc");
    }

    document.addEventListener("DOMContentLoaded", async () => {
      const search = document.getElementById("search-input")
        search.addEventListener("keyup", ({key}) => {
          if (key === "Enter") {
            handleSearch();
          }
        })
    })
    const handleSearch = async () => {
      const searchTerm = document.getElementById("search-input").value;
      const queryString = encodeURI(searchTerm)
      window.location = `/search?term=${queryString}`;
    }
</script>

    

    <div id="footer-wrapper">
        <footer id="content-info" class="container" role="contentinfo">
            <div class="row-fluid">
                <div class="span4"><section id="text-2" class="widget-1 widget-first widget widget_text"><div class="widget-inner">			<div class="textwidget"><h3><span class="slash">//</span> Quick Links</h3>
                    <ul class="footer-links clearfix">
                        <li><a href="/website/">Home</a></li>
                        <li><a href="/website/tour/">Tour</a></li>
                        <li><a href="/website/why/">Why?</a></li>
                        <li><a href="/website/pricing/">Pricing</a></li>
                        <li><a href="/website/news/">News</a></li>
                        <li><a href="/website/docs/">Docs</a></li>
                    </ul>
                    <ul class="footer-links clearfix">
                        <li><a href="javascript:Intercom('showNewMessage');">Contact</a></li>
                        <li><a href="https://github.com/exceptionless/Exceptionless" target="_blank" rel="noopener noreferrer">GitHub</a></li>
                        <li><a href="/website/about/">About Us</a></li>
                        <li><a href="/website/terms/">Terms of Use</a></li>
                        <li><a href="/website/privacy/">Privacy Policy</a></li>
                        <li>&nbsp;</li>
                    </ul></div>
                </div></section></div>
                <div class="span3"></div>
                <div class="span4"><section id="text-3" class="widget-1 widget-first widget widget_text"><div class="widget-inner">			<div class="textwidget"><h3><span class="slash">//</span> Stay In Touch</h3>
                    <p>There are real people behind Exceptionless, so if you have a question or suggestion (no matter how small) please get in touch with us:</p>

                    <ul class="social-icons-container">
                        <li>
                            <a href="https://twitter.com/exceptionless" target="_blank" class="social-icon social-icon-twitter" rel="noopener noreferrer">Twitter</a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/exceptionless" target="_blank" class="social-icon social-icon-facebook" rel="noopener noreferrer">Facebook</a>
                        </li>
                        <li>
                            <a href="https://github.com/exceptionless/Exceptionless" target="_blank" class="social-icon social-icon-github" rel="noopener noreferrer">GitHub</a>
                        </li>
                    </ul></div>
                </div></section></div>
            </div>
        </footer>
        <div class="copyrightContainer">
            <p class="copyright">Â© 2020 Exceptionless</p>
        </div>
    </div>

    <script src="/website/assets/js/main.js"></script>
    
    <!-- intercom -->
<script>
window.intercomSettings = {
    app_id: "6c0d76e0bec950052459f5cb4b727a949aeabbe1"
};
</script>

<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/6c0d76e0bec950052459f5cb4b727a949aeabbe1';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>
<!-- end intercom -->

  

</body></html>